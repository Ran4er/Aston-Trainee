> [!note] Определение
> REST API - это способ взаимодействия сайтов и веб-приложений с сервером. Его также называют RESTful.

Термин состоит из двух аббревиатур, которые расшифровываются следующим образом.

__API (Application Programming Interface)__ - это код, который позволяет двум приложениям обмениваться данными с сервера. На русском языке его принято называть программным интерфейсом приложения.

__REST (Representational State Transfer)__ - это способ создания API с помощью протокола HTTP. На русском его называют "передачей состояния представления".

Технологию REST API применяют везде, где пользователю сайта или веб-приложения нужно предоставить данные с сервера. В настоящее время это самый распространенный способ организации API. Он вытеснил ранее популярные способы SOAP и WSDL.

У RESTful нет единого стандарта работы: его называют "архитектурным стилем" для операция по работе с сервером. Такой подход предложил в 2000 году в своей диссертации программист и исследователь Рой Филдинг, один из создателей протокола HTTP.

#### Принципы REST API
У RESTful есть 7 принципов написания кода интерфейсов.

__Отделение клиента от сервера (Client-Server)__. Клиент - пользовательский интерфейс сайта или приложения, например, поисковая строка видеохостинга. В REST API код запросов остается на стороне клиента, а код для доступа к данным - на стороне сервера. Это упрощает организацию API, позволяет легко переносить пользовательский интерфейс на другую платформу и дает возможность лучше масштабировать серверное хранение данных.

__Отсутствие записи состояния клиента (Stateless)__. Сервер не должен хранить информацию о состоянии (проведенных операций) клиента. Каждый запрос от клиента должен содержать только ту информацию, которая нужна для получения данных от сервера.

__Кэшируемость (Casheable)__. В данных запроса должно быть указано, нужно ли кэшировать данные (сохранять в специальном буфере для частых запросов). Если такое указание есть, клиент получит право обращаться к этому буферу при необходимости.

__Единство интерфейсов (Uniform Interface)__. Все данные должны запрашиваться через один URL-адрес стандартными протоколами, например, HTTP. Это упрощает архитектуру сайта для приложения и делает взаимодействие с сервером понятнее.

__Многоуровневость системы (Layered System)__. В RESTful сервера могут располагаться на разных уровнях, при этом каждый сервер взаимодействует только с ближайшими уровнями и не связан запросами с другими.

__Предоставление кода по запросу (Code on Demand)__. Серверы могут отправлять клиенту код (например, скрипт для запуска видео). Так общий код приложения или сайта становится сложнее только при необходимости.

__Начало от нуля (Starting with the Null Style)__. Клиент знает только одну точку входа на сервер. Дальнейшие возможности по взаимодействию обеспечиваются сервером.

#### Стандарты и методы
RESTful не является стандартом или протоколом. Разработчики руководствуются принципами REST API для создания эффективной работы серверов для создания эффективной работы серверов для своих сайтов и приложений. Отличительной чертой является возможность выстраивать серверную архитектуру с помощью других протоколов: HTTP, URL, JSON, и XML.

Это отличает REST API от метода простого протокола доступа к объектам SOAP. Также в SOAP нет кэшируемости запросов, более объемная документация и реализация словаря, отдельного от HTTP. Это делает стиль REST API более легким в реализации, чем стандарт SOAP.

Несмотря на отсутствие стандартов, при создании REST API есть общепринятые лучшие практики, например:
- использование защищенного протокола HTTPS;
- использование инструментов для разработки API Blueprint и Swagger;
- применение приложения для тестирования Get Postman;
- применение как можно большего количества HTTP-кодов;
- архивирование больших блоков данных.

#### Архитектура
REST API основывается на протоколе передачи гипертекста HTTP (Hypertext Transfer Protocol).

В REST API есть 4 метода HTTP, которые используют для действий с объектами на серверах:
- GET (получение информации о данных или списках)
- DELETE (удаление данных)
- POST (добавление или замена данных)
- PUT (регулярное обновление данных)

Такие запросы ещё называют идентификаторами CRUD: create (создать), read (прочесть), update (обновить), delete (удалить). Это стандартный набор действий для работы с данными.

В каждом HTTP-запросе есть заголовок, за которым следует описание объекта на сервере - это и есть его состояние. <br>
![[Pasted image 20240415001634.png]]<br>
#### Как работает RESTful
Например, на сайте отеля есть система бронирования номерок трех типов: эконом, стандарт и люкс. В REST API каждому типу будет присвоен свой URL на страницу бронирования:

http://hotel.ru/booking/econom

http://hotel.ru/booking/standart

http://hotel.ru/booking/lux

Такие URL однозначно определяют ресурс на сервисе - данные о доступных номерах каждого класса. Чтобы взаимодействовать с этими ресурсами REST API применяет CRUD-команды протокола HTTP. Например, GET econom для передачи клиенту информации о номерах класса эконом. В RESTful такие запросы будут кэшироваться - клиенту не нужно обращаться к серверу снова при повторном запросе.

Также такая архитектура позволяет расставить приоритеты в обслуживании. Например, использование более производительных серверов для запросов на номера класса люкс.

#### Где применяют
REST API рекомендуют использовать в следующих случаях:
- ограниченная пропускная способность соединения с сервером;
- есть необходимость кэшировать запросы;
- приложение или сайт будет значительно масштабироваться;
- приложение или сайт использует AJAX (метод фонового обмена данными с сервером).

REST API используют чаще альтернативных методов, например SOAP. Помимо сайтов и веб-приложений RESTful используют для облачных вычислений.

Например, REST API используют в социальной сети Twitter (Ныне X). Запросы отправляются в формате JSON. Разработчики сторонних приложений могут использовать данные Twitter с помощью REST-запросов. Например:

_GET geo/id/:place_id_
Возвращает информацию о местоположении пользователей.

_GET geo/reverse_geocode_
Возвращает до 20 возможных местоположений по заданным координатам. Возвращает местоположения, которые могут быть прикреплены к твитам.